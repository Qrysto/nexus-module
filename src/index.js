import webpackAliases from './webpackAliases';
import {
  walletDataReducer,
  listenToWalletData,
  INITIALIZE,
  UPDATE_WALLET_DATA,
  stateMiddleware,
  storageMiddleware,
} from './reduxHelpers';
import packageJson from '../package.json';

// This package could be imported by other environments other than on Nexus Wallet, such as babel.config.js
// where NEXUS global variable is not defined. So we have to prepare for that with default values
const {
  walletVersion,
  components: {
    GlobalStyles,
    ThemeController,
    Icon,
    Panel,
    AutoSuggest,
    FieldSet,
    Switch,
    Modal,
    Tooltip,
    Select,
    TextField,
    FormField,
    Link,
    Arrow,
    Tab,
    Button,
    Dropdown,
  } = {},
  utilities: {
    color,
    copyToClipboard,
    send,
    showNotification,
    showErrorDialog,
    showSuccessDialog,
    showInfoDialog,
    rpcCall,
    apiCall,
    secureApiCall,
    proxyRequest,
    confirm,
    updateState,
    updateStorage,
    onceInitialize,
    onWalletDataUpdated,
  } = {},
} = global.NEXUS || {};

const browserslistQuery = packageJson.browserslist;

export {
  walletVersion,
  // Components
  GlobalStyles,
  ThemeController,
  Icon,
  Panel,
  AutoSuggest,
  FieldSet,
  Switch,
  Modal,
  Tooltip,
  Select,
  TextField,
  FormField,
  Link,
  Arrow,
  Tab,
  Button,
  Dropdown,
  // Utilities
  color,
  copyToClipboard,
  send,
  showNotification,
  showErrorDialog,
  showSuccessDialog,
  showInfoDialog,
  rpcCall,
  apiCall,
  secureApiCall,
  proxyRequest,
  confirm,
  updateState,
  updateStorage,
  onceInitialize,
  onWalletDataUpdated,
  // Helpers
  webpackAliases,
  browserslistQuery,
  walletDataReducer,
  listenToWalletData,
  INITIALIZE,
  UPDATE_WALLET_DATA,
  stateMiddleware,
  storageMiddleware,
};
